#!/bin/sh


declare -a website=(
"🕸linear-algebra https://speech.ee.ntu.edu.tw/~hylee/la/2021-fall.html"
"💻coumputer-introduction http://www.csie.ntu.edu.tw/~cyy/introcs"
"💻computer-introduction-reference https://www.nand2tetris.org/"
"💻computer-introduction-answer https://github.com/akmcc/nand-2-tetris"
"🌪digital-circuit-youtube https://www.youtube.com/channel/UC4VMtodpxx9IXlSO9Bjsasw"
"🌪digital-circuit-answer https://dokumen.tips/documents/solutions-manual-microelectronic-circuit-design-4th-ed-567ff0281b5b9.html"
"♟game-theory http://homepage.ntu.edu.tw/~chingihuang/index.htm"
)

name=$(printf '%s\n' "${website[@]}" | awk '{print $1}')
url=$(printf '%s\n' "${website[@]}" | awk '{print $2}')

pick=$(printf "%s\n" "${name[@]}" | rofi -dmenu -p "select course website🃏 ")

declare -a array=($name $url)
n=$((${#array[*]}/2))  # nmber of the element
for ((i=0; i<$n; i++)); do
if [ "${array[$i]}" == "$pick" ]; then
    index=$(($i+$n))
    browser=$(echo -e "brave\nqutebrowser" | rofi -dmenu -p "select browser")
    if [ $browser == "qutebrowser" ]; then
        mode=$(echo -e "window\ntab" | rofi -dmenu -p "choose the mode 📺")
        if [ $mode == "window" ]; then
            $BROWSER "--target" "window" "${array[$index]}"
        else

            $BROWSER "--target" "tab" "${array[$index]}"
        fi 
    else
        brave "${array[$index]}"
    fi
fi
done

